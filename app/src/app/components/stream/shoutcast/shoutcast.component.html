<div class="container">

  <div class="form-group">
    <label for="name">Name:</label>
    <input type="text" [ngClass]="{ 'form-control': true, 'has-error': isNameInValidForSearch }" id="name" [(ngModel)]="name" (change)="refresh()" minlength="3">
    <span class="help-block" *ngIf="isNameInValidForSearch">Min length to search should be 3</span>
  </div>

  <div class="form-group">
    <label for="genre">Genre:</label>
    <select class="form-control" id="genre" [(ngModel)]="genre" (change)="refresh()">
      <option [value]="genre" *ngFor="let genre of genres">{{genre}}</option>
    </select>
  </div>

  <div class="form-group">
    <label for="streams">Select Stream:</label>
    <select class="form-control" id="streams" [(ngModel)]="streamId">
      <optgroup [label]="item.key" *ngFor="let item of streamsTable | keyvalue">
        <option [value]="stream.ID" *ngFor="let stream of item.value">{{stream.name}} ({{stream.format}}, {{stream.bitrate}})</option>
      </optgroup>
    </select>
  </div>

  <button class="btn btn-primary" type="button" (click)="addStream()" [disabled]="!this.streamId"> Add Shoutcast Stream</button>

</div>
